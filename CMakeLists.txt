cmake_minimum_required(VERSION 3.17)
set(PROJ_NAME "MultiThread_Renderer2")

project(${PROJ_NAME})

set(CMAKE_CXX_STANDARD 17)
set(GENERATOR_NAME "MinGW Makefiles")

include_directories(
		${PROJECT_SOURCE_DIR}/include
		${PROJECT_SOURCE_DIR}/dependencies
)

file(GLOB SOURCES ${PROJECT_SOURCE_DIR}/src/*.cpp)
file(GLOB NESTEDSOURCES ${PROJECT_SOURCE_DIR}/src/*/*.cpp)
file(GLOB NESTEDSOURCES2 ${PROJECT_SOURCE_DIR}/src/*/*/*.cpp)
file(GLOB HEADERS ${PROJECT_SOURCE_DIR}/include/*.h)
 
find_library(SDL2_LIBRARY 
    NAMES SDL2 
    PATHS ${PROJECT_SOURCE_DIR}/dependencies/SDL2/bin
    NO_CMAKE_PATH
    NO_CMAKE_ENVIRONMENT_PATH
    NO_SYSTEM_ENVIRONMENT_PATH
    NO_CMAKE_SYSTEM_PATH
)

find_library(SDL2_IMAGE 
    NAMES SDL2_image
    PATHS ${PROJECT_SOURCE_DIR}/dependencies/SDL2/bin
    NO_CMAKE_PATH
    NO_CMAKE_ENVIRONMENT_PATH
    NO_SYSTEM_ENVIRONMENT_PATH
    NO_CMAKE_SYSTEM_PATH
)
# find_library(SDL2_MIXER 
#     NAMES SDL2_mixer
#     PATHS ${PROJECT_SOURCE_DIR}/dependencies/SDL2_mixer-dev/bin
#     NO_CMAKE_PATH
#     NO_CMAKE_ENVIRONMENT_PATH
#     NO_SYSTEM_ENVIRONMENT_PATH
#     NO_CMAKE_SYSTEM_PATH
# )
 
add_library(${PROJ_NAME} ${SOURCES} ${NESTEDSOURCES} ${NESTEDSOURCES2} ${HEADERS})

target_link_libraries(${PROJ_NAME} ${SDL2_LIBRARY} ${SDL2_IMAGE})